\startfirstchapter{Introduction}
\label{chapter:introduction}

The word \textit{IoT}, which stands for Internet of Things, describes an environment where every \textit{thing} is connected to the Internet. The use of the word \textit{thing} suggests that no device is exempt. The number of opportunities that a world where every device, small or large is connected to a global network brings, is beyond anyone's imagination. As always, along with opportunities come challenges that need to be resolved for such a scenario to function properly. Almost all layers of communication protocols need to be redesigned to handle these challenges, together with an effort to come up with applications that can use this extra-connectivity in its full potential.

The \textit{things} that IoT refers to can be everyday objects, from home appliances to cars and roads. But perhaps the importance of IoT can never be understood without considering sensors. Sensor networks used in monitoring and metering applications are one of the main and first applications of IoT. Sensors that can be attached to anything and can be anywhere with different requirements. For some emergency response related applications, latency is the key factor, whereas for some long-term monitoring applications, power consumption is more important. Many IoT applications have a feature that a high density of nodes is needed.


%But one thing most IoT application have in common is their large density of nodes. For this reason, any IoT solution has to be able to function in densely populated networks. 
The deployment and maintenance cost of wired networks makes it almost inevitable to think that this super connected world largely relies on wireless communication technologies. On the other hand, in the wireless domain, there has been a massive increase in the number of nodes connected to an Access Point (AP) in a Wireless Local Area Network (WLAN) in recent years. Technologies such as IoT, sensor networks and Machine Type Communication (MTC) are anticipated to bring an even larger number of nodes all contending to access the license-free Industrial, Scientific, and Medical (ISM) spectrum. This is a part of the reasons that the next generation of IEEE 802.11 standards includes a new sub 1GHz bandwidth to ISM in order to support IoT traffic \cite{Req80211ah}. But the number of connections from both MTC and human devices increases so fast that using conventional IEEE 802.11 MAC protocol's Distributed Coordination Function (DCF) to handle such a large number of nodes results in a high collision probability and very low channel efficiency.

Research efforts have been put to make super dense IEEE 802.11 networks more efficient. In addition to the physical layer solutions trying to make wireless communications more efficient and faster, a key issue is how to modify the DCF protocol in the MAC layer to achieve better resource utilization. For instance, \cite{zhong2014dcf} proposed a method to adjust the transmission opportunity according to collision probability. One promising solution is grouping users and limiting the competitions within the group, used in Group Synchronized Distributed Coordination Function in the IEEE 802.11ah standard \cite{Draft80211ah}. It has been proved in \cite{zheng2014performance} and \cite{raeesi2014performance} that grouping users and dedicating a Restricted Access Window (RAW) to each group increases the overall throughput in wireless networks. \iffalse CHECK THIS \fi The work at \cite{kim2015optimal} has also addressed the problem of super dense networks and proposed a grouping scheme based on transmission attempts to assign larger RAWs to crowder groups instead of having equally timed RAWs. 

Although using GS-DCF function proposed in IEEE 802.11ah can improve final throughput compared to conventional IEEE 802.11 protocols, there are still some open issues resulting from the new sub 1GHz license-exempt bands in IEEE 802.11ah. Utilizing carrier frequencies smaller than $1$ GHz can increase network coverage up to $1$ km. This large distance makes the well-known hidden terminal problem more serious. As shown in \iffalse CHECK THIS \fi \cite{wu2006wsn02,tsertou2008revisiting,khurana1999performance}, the hidden terminal problem can lead to a substantial performance degradation in infrastructure-based networks. 

Although Request To Send (RTS) / Clear To Send (CTS) and centralized grouping strategy have been proposed to address the hidden terminal problem \cite{yoonregrouping,tseng2014effective}, they are not suitable for IoT scenarios with small packet size and a large number of nodes.

 %\cite{tsertou2008revisiting} and \cite{khurana1999performance} have also suggested models which consider the hidden terminal and show the performance degradation. 

Based on the grouping idea in the IEEE 802.11ah standard, this thesis aims to solve the problem in a distributed manner without using RTS/CTS. Our solution ensures that nodes in the same group are close enough to each other so that they can always sense each other's transmissions in their own RAWs.


On the other hand, as new IoT applications emerge, the need for reliable multi-hop transmission between sensors is becoming more and more obvious. In many sensor network applications due to long distance between sensors and the sink, data cannot be gathered using a single sink node and it has to be relayed with the help of other nodes. Linear sensor networks are one of the main applications with this criteria. They can be used for monitoring highways, railroads, skyscrapers and walls. In many of these applications, using wires to connect sensors is either impossible or very expensive to deploy and maintain.

Multi-hop relaying has always been a challenge for wireless communications due to mutual interference. As the number of hops grows, the end to end throughput suffers drastically. A significant research effort has been employed to improve the throughput and reliability of multi-hop transmissions. Recognizing interference as the main obstacle in multi-hop transmission, many new technologies have emerged. Technologies such as successive interference cancellation \cite{alvandi2015delay}, multi-packet detection and collision resolution using zigzag \cite{mzig}, interference alignment \cite{4567443, 7218598}, and full-duplex (FD) radios \cite{fullduplex} have all tried to address interference and broadcast nature of wireless channel in their favor. Another promising technology is Physical Layer Network Coding (PNC). It can present a robust solution for multi-hop communications.


While the theory of PNC technology has been around for a while, its implementation and real-life applications have been lacked behind. A practical PNC implementation has multiple challenges, most notably Carrier-Frequency Offsets (CFO) and timing synchronization. In the Multiple Access (MA) phase, the relay has to receive a signal from two sources, tracking the CFOs from two transmitters while their signals are superimposed is one of the main difficulties. Existing implementations require an interference free part in each signal which comes with a high overhead and is restrictive for multi-hop scenarios. We are thus motivated to address this issue in this thesis.
 

\section{Research Objectives and Contributions}
This thesis is trying to solve two issues for efficient wireless networking. For dense wireless access networks, the hidden terminal problem in infrastructure-based IoT scenarios under IEEE 802.11ah is considered to design an efficient and distributed grouping strategy. For multi-hop transmissions, the implementation of a physical layer network coding system for relay transmissions is the focus.

\subsection{RSS-Based Grouping Strategy}


Different from the previous approaches, this thesis proposes an RSS-based grouping scheme.
Nodes sense the received power from other nodes and join the group that has the largest sensed power. To the best of our knowledge, this is the first work to explicitly use signal strength for assigning nodes to their groups. The performance gain of the proposed method is then evaluated by analytical model and simulations. \iffalse CHECK THIS \fi The main contributions of this work are three-fold. First, we propose an RSS-based grouping strategy to solve the hidden terminal problem in IEEE 802.11ah networks. Second, we derive the probability of two nodes in one group being able to sense each other. Third, extensive simulations using NS-2\cite{breslau2000advances} have been conducted, and the results show that, by using the proposed method, the hidden terminal problem becomes negligible in IEEE 802.11ah networks and RTS/CTS is no longer needed.


\subsection{Practical Physical Layer Network Coding Implementation}
Despite being proposed a decade ago, physical layer network coding have not yet been fully used in practical applications. One of the reasons behind this delay is the implementation challenges that a real-life PNC system has to face. Implementation challenges of PNC are addressed and studied in this thesis.
We propose a novel idea to overcome the CFO challenge and have the relay correctly receive the sum signal in the Multiple Access (MA) phase. This thesis presents a design and implementation of a Software Defined Radio (SDR) PNC communication system on the GNURadio platform. The design is then implemented on a USRP testbed. Extensive simulations and experiments have been done to investigate the proposed implementation and its feasibility. 



\section{Dissertation Organization}

The rest of this thesis is organized as following:
\begin{description}
\item[\textbf{Chapter \ref{chapter:background}}] gives the background information about the IEEE 802.11ah standard, hidden terminal problem, physical layer network coding and software defined radio.
\item[\textbf{Chapter \ref{chapter:single}}] explains the proposed RSS-based grouping strategy for GS-DCF protocol, then presents its analytical model and performance evaluations.
\item[\textbf{Chapter \ref{chapter:multi}}] explains the practical implementation of physical layer network coding technology on software defined radio platform and how the CFO and timing recovery challenges are solved. Then experimental and simulation results are presented.
\item[\textbf{Chapter \ref{chapter:concl}}] is the conclusion. It also presents areas for further research and improvement of this work.
\item[\textbf{Appendix \ref{chapter:appendix}}] gives some advice for troubleshooting GNURadio and some tips on developing new blocks. 
\end{description}


\section{Bibliographic Notes}
The work in chapter \ref{chapter:single} was published in \cite{ghasemiahmadi2017rss}. 